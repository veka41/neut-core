import {
- this.except [except]
- this.external [errno-location]
- this.memory [load-int32]
}

data errno {
- Errno(int)
}

define get-errno(): int {
  let errno-ptr = errno-location() in
  load-int32(errno-ptr) // POSIX requires errno to be thread-safe
}

inline syscall(a: tau): tau {
  except(errno, a)
}
