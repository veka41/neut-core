import {
  this.except {Fail, Pass, except},
  this.list,
  this.show {Show, show},
  this.text {format},
}

inline as-show<a, b>(s1: show(a), s2: show(b)): show(except(a, b)) {
  Show(function (val) {
    match val {
    | Fail(x) =>
      format("Fail({})", [s1::show(x)])
    | Pass(y) =>
      format("Right({})", [s2::show(y)])
    }
  })
}
