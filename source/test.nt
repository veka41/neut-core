import {
  this.int.show {%ld},
  this.list,
  this.rune,
  this.rune.eq {ne-rune},
  this.text {_get-rune-size, _get-rune-size-end, drop-while-end},
  this.text.io {printf},
  this.unit {Unit, unit},
}

define zen(): unit {
  let result =
    drop-while-end(*"/Users/foo/Downloads/some-file.txt", function (r) {
      ne-rune(r, `/`)
    })
  in
  printf("parent: {}\n", [result]);
  let t = "Ã”" in
  let len = this.text.text-byte-length(t) in
  let s1 = _get-rune-size-end(t, sub-int(len, 1)) in
  let s2 = _get-rune-size(t, 0) in
  printf("byte-length: {}\n", [%ld(len)]);
  printf("s1: {}\n", [%ld(s1)]);
  printf("s2: {}\n", [%ld(s2)]);
  Unit
}

define main(): unit {
  zen()
}
