import {
- this.unit
}

export {
- store-int
- store-i8
- store-i1
- load-int
- load-i8
- load-i1
}

inline store-int(address: int, value: int): unit {
  introspect target-arch {
  - amd64 =>
    magic store(i64, address, value)
  - arm64 =>
    magic store(i64, address, value)
  }
}

inline store-i8(address: int, value: i8): unit {
  magic store(i8, address, value)
}

inline store-i1(address: int, value: i1): unit {
  magic store(i1, address, value)
}

inline load-int(address: int): int {
  magic load(i64, address)
}

inline load-i8(address: int): i8 {
  magic load(i8, address)
}

inline load-i1(address: int): i1 {
  magic load(i1, address)
}
